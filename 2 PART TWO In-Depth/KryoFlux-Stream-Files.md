# 2.3 KryoFlux Stream Files

The KryoFlux stream file format is a proprietary,<a href="#anchor1"><sup>1</sup></a> though publicly documented, file format for each of the sectors found on a floppy disk. Compared to a disk image file, KryoFlux stream files comprising an entire disk are much larger--a set of stream files for a 1.44 megabyte (MB) floppy disk may be around 20-25 MB. While such a footprint is much smaller than many other file types created in contemporary digital environments, it is considerably larger than the maximum capacity of a floppy disk. This, along with the proprietary nature of the stream file format, make it difficult to recommend a set of stream files as a preservation format.  (One exception to this recommendation is for copy-protected disks, which can *only* be properly preserved as stream files due to their non-standard coding and formatting.)

## Why work with stream files?

If stream files are so large and restrictive, why might a user want to work with them at all? First, stream files speak to one of KryoFlux’s chief benefits--it divorces the understanding of the content fully from the stabilization of the content. It is entirely possible to create a set of stream files at one point in a workflow and not attempt to understand their contents until a later step.<a href="#anchor2"><sup>2</sup></a> The clear separation allows both for flexibility in workflow design, and the user to only access the potentially fragile disk surface once. This latter quality also speaks to a second benefit to working with stream files: the ability to tease out ambiguity. The discussion above about types of disk image formats available with the KryoFlux assumes the user has clear documentation of what type of computer during what era wrote to a disk. Unfortunately, that is not always the case. It is much more likely that a user might know the year (or range of years) that disks were used, but it is much less likely that a donor (or a donor’s heirs) can recall exactly what type of computer they used at home or in the office 30 years prior to signing an agreement with an archives. In cases such as these, the user can create stream files and run those stream files against the DTC application, instead of running the KryoFlux DTC multiple times using trial and error against a potentially fragile source floppy disk. This is known as “deviceless mode.” Deviceless mode can be used in either the command line or the GUI. For the command prompt specific to deviceless mode, see the subsection titled “Create formatted image files in deviceless mode (i.e., using stream files)” on page 31. Euan Cochrane has created a tool<a href="#anchor3"><sup>3</sup></a> to take stream files and reduce trial and error by matching the stream files to one or more disk image types.

If using the GUI, creating stream files comes with a third benefit. In addition to the color-coded blocks the GUI fills in as it moves throughout a disk’s sectors, the GUI will also create a scatter plot and histogram of the flux transitions it finds for each sector. This is valuable when trying to determine if a particularly problematic disk is damaged or degraded, or if the user has not hit upon the correct image type yet. KryoFlux may report that a sector is unformatted, but unformatted sectors have a particular appearance in the scatterplot visualized by the GUI. If a sector is reported as unformatted, but one can make out a discernable pattern in the scatterplot, it is possible that data is in the sector.

## Long term retention of stream files:

As mentioned above, KryoFlux stream files are created and stored in a proprietary format, and they are much larger in size than a disk image file. Whether or not to save stream files long term is a policy decision to be made institutionally. Duke University saves stream files in place of disk image files for disks in limited cases, but they do not save stream files long term as a general rule. Situations in which they have saved stream files include disks for which the GUI can reveal data in the sectors but staff have not been able to determine whether a particular image file was created successfully, disks from high profile donors that they have been unable to salvage, and disks from collections whose creators created or helped create new file formats. Finally, while Kryoflux can create disk images in a large number of sector image formats, these are only a portion of the floppy disk formats that were in use when floppy disks were a popular form of removable storage. Though perhaps uncommon, it is possible such formats are part of current collections and may currently be inaccessible. Storing a dump of such a disk in stream format will allow future archivists to revisit it.

<a name="anchor1">[1]</a>  http://www.kryoflux.com/download/kryoflux_stream_protocol_rev1.1.pdf

<a name="anchor2">[2]</a> As discussed by Walker Sampson in the BitCurator Consortium’s webinar on KryoFlux, https://bitcuratorconsortium.org/videos/advanced-topics-webinar-kryoflux

<a name="anchor3">[3]</a> http://digitalcontinuity.org/post/144268258748/floppy-disk-format-identifer-tool
